'use client'
import React, { useState } from 'react';

const StarRating = ({ initialRating , setRating2 }) => {
  const [rating, setRating] = useState(initialRating);

  const handleClick = (index) => {
    setRating(index + 1); // Set the rating based on which star was clicked
    setRating2(index)
  };

  const renderStar = (index) => {
    const isSelected = index < rating;
    initialRating = index

    return (
      <svg
        key={index}
        onClick={() => handleClick(index)}
        className="cursor-pointer w-[30px] h-[30px]"
        xmlns="http://www.w3.org/2000/svg"
        fill={isSelected ? "#FBBF24" : "none"}
        viewBox="0 0 27 25"
        stroke={isSelected ? "#FBBF24" : "#D1D5DB"}
        strokeWidth="2.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M12.6033 2.31671C12.8914 1.73303 13.0355 1.4412 13.231 1.34795C13.4012 1.26683 13.5989 1.26683 13.769 1.34795C13.9646 1.4412 14.1086 1.73303 14.3967 2.31671L17.1301 7.85417C17.2151 8.02648 17.2577 8.11264 17.3198 8.17953C17.3748 8.23876 17.4408 8.28675 17.5141 8.32084C17.5969 8.35934 17.692 8.37324 17.8822 8.40103L23.9962 9.29469C24.6401 9.3888 24.962 9.43585 25.111 9.59311C25.2406 9.72993 25.3016 9.91793 25.2769 10.1048C25.2485 10.3195 25.0155 10.5465 24.5493 11.0005L20.1268 15.3081C19.9889 15.4424 19.92 15.5095 19.8755 15.5894C19.8362 15.6601 19.8109 15.7378 19.8011 15.8182C19.7901 15.909 19.8064 16.0038 19.8389 16.1935L20.8824 22.2777C20.9925 22.9194 21.0475 23.2403 20.9441 23.4307C20.8541 23.5963 20.6942 23.7125 20.5088 23.7469C20.2958 23.7864 20.0076 23.6349 19.4314 23.3318L13.9655 20.4574C13.7952 20.3678 13.71 20.323 13.6203 20.3054C13.5409 20.2898 13.4592 20.2898 13.3797 20.3054C13.29 20.323 13.2049 20.3678 13.0346 20.4574L7.56865 23.3318C6.99239 23.6349 6.70426 23.7864 6.49121 23.7469C6.30585 23.7125 6.1459 23.5963 6.05592 23.4307C5.9525 23.2403 6.00753 22.9194 6.11759 22.2777L7.16111 16.1935C7.19364 16.0038 7.20991 15.909 7.1989 15.8182C7.18915 15.7378 7.16389 15.6601 7.12451 15.5894C7.08003 15.5095 7.0111 15.4424 6.87323 15.3081L2.4507 11.0005C1.98458 10.5465 1.75152 10.3195 1.72316 10.1048C1.69848 9.91793 1.75944 9.72993 1.88906 9.59311C2.03804 9.43585 2.35996 9.3888 3.0038 9.29469L9.11789 8.40103C9.30803 8.37324 9.4031 8.35934 9.4859 8.32084C9.5592 8.28675 9.6252 8.23876 9.68023 8.17953C9.74238 8.11264 9.78491 8.02648 9.86997 7.85417L12.6033 2.31671Z" />
      </svg>
    );
  };

  return (
    <div className="flex gap-6 items-start self-stretch my-auto">
      {Array.from({ length: 5 }, (_, index) => renderStar(index))}
    </div>
  );
};

export default StarRating;
